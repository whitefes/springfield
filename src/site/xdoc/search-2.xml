<?xml version="1.0"?>
<document xmlns="http://maven.apache.org/XDOC/2.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://maven.apache.org/XDOC/2.0 http://maven.apache.org/xsd/xdoc-2.0.xsd">
<properties>
	<title>W@Springfield - Search</title>
	<author email="u2waremanager@gmail.com">www.u2ware.com</author>
</properties>

<body>
<section name="@Springfield - Search">
	<subsection name="Code">
		<source><![CDATA[
package com.u2ware.springfield.sample.part2.step2;

import lombok.Getter;
import lombok.Setter;

import com.u2ware.springfield.config.Springfield;
import com.u2ware.springfield.config.Springfield.Strategy;

@Springfield(
	strategy=Strategy.JPA,
	entity=FindEntity.class,
	topLevelMapping="/part2/step21"
)
public class FindByName {
	
	@Getter @Setter private String name;
}
		]]></source>
		<source><![CDATA[
package com.u2ware.springfield.sample.part2.step2;

import lombok.Getter;
import lombok.Setter;

import com.u2ware.springfield.config.Springfield;
import com.u2ware.springfield.config.Springfield.Strategy;

@Springfield(
	strategy=Strategy.JPA,
	entity=FindEntity.class,
	topLevelMapping="/part2/step22"
)
public class FindByAgeBetween {

	@Getter @Setter private Integer ageMax;
	@Getter @Setter private Integer ageMin;
}
		]]></source>
		<source><![CDATA[
package com.u2ware.springfield.sample.part2.step2;

import javax.persistence.Entity;
import javax.persistence.Id;

import lombok.Getter;
import lombok.Setter;
import lombok.ToString;

@Entity
public @ToString class FindEntity {

	@Id
	@Getter @Setter private String id;
	@Getter @Setter private String password;
	@Getter @Setter private String name;
	@Getter @Setter private Integer age;
}
		]]></source>
	</subsection>

	<subsection name="Beans">
		<p><b>@Springfield(strategy=Strategy.JPA, entity=FindEntity.class)</b> 선언으로 다음 7개의 Bean 이 자동 생성, 등록 된다.</p>	
		<table border="1">
			<tr><th>bean name  </th>	<th>bean type</th>	<th>bean implement</th></tr>
			<tr><td>"<b>findByAgeBetween</b>Controller"</td><td><i><![CDATA[EntityController<FindEntity, FindByAgeBetween>]]></i></td><td>com.u2ware.springfield.controller. EntityHandler</td></tr>
			<tr><td>"<b>findByAgeBetween</b>Validator"</td> <td><i><![CDATA[EntityValidator<FindEntity, FindByAgeBetween>]]></i></td> <td>com.u2ware.springfield.validation. EntityValidatorImpl</td></tr>
			<tr><td>"<b>findByAgeBetween</b>Service"</td>   <td><i><![CDATA[EntityService<FindEntity, FindByAgeBetween>]]></i></td>   <td>com.u2ware.springfield.service. EntityServiceImpl</td></tr>
			<tr><td>"<b>findByName</b>Controller"</td><td><i><![CDATA[EntityController<FindEntity, FindByName>]]></i></td><td>com.u2ware.springfield.controller. EntityHandler</td></tr>
			<tr><td>"<b>findByName</b>Validator"</td> <td><i><![CDATA[EntityValidator<FindEntity, FindByName>]]></i></td> <td>com.u2ware.springfield.validation. EntityValidatorImpl</td></tr>
			<tr><td>"<b>findByName</b>Service"</td>   <td><i><![CDATA[EntityService<FindEntity, FindByName>]]></i></td>   <td>com.u2ware.springfield.service. EntityServiceImpl</td></tr>
			<tr><td>"<b>findEntity</b>Repository"</td><td><i><![CDATA[EntityRepository<FindEntity, String>]]></i></td><td>com.u2ware.springfield.repository.jpa. EntityJpaRepository</td></tr>
		</table>
		<dl>
			<dt>Note:</dt>
			<dd>
				<p>자동생성 하려는  Bean(Name)이  이미  존재한다면,  @Springfield 는 Bean 을 따로 생성하지 않는다.</p>	
			</dd>
		</dl>
		
		
	</subsection>
	<subsection name="RequestMapping">
		<table border="1">
			<tr><th>매핑 경로</th>	<th>HTTP Method</th>	<th>Controller Method 이름</th>	<th>예제 Command 객체</th>	<th>예제 매핑 경로</th></tr>
			<tr><td><i>/{topLevelMapping}/</i></td>         <td>GET</td>   <td>home()</td>      <td>FindByName</td><td>/part2/step21/</td></tr>
			<tr><td><i>/{topLevelMapping}</i></td>          <td>GET</td>   <td>findForm()</td>  <td>FindByName</td><td>/part2/step21</td></tr>
			<tr><td><i>/{topLevelMapping}</i></td>          <td>POST</td>  <td>find()</td>      <td>FindByName</td><td>/part2/step21</td></tr>
			<tr><td><i>/{topLevelMapping}/{id}</i></td>     <td>GET</td>   <td>read()</td>      <td>FindEntity</td><td>/part2/step21/bar</td></tr>
			<tr><td><i>/{topLevelMapping}/new</i></td>      <td>GET</td>   <td>createForm()</td><td>FindEntity</td><td>/part2/step21/new</td></tr>
			<tr><td><i>/{topLevelMapping}/new</i></td>      <td>POST</td>  <td>create()</td>    <td>FindEntity</td><td>/part2/step21/new</td></tr>
			<tr><td><i>/{topLevelMapping}/{id}/edit</i></td><td>GET</td>   <td>updateForm()</td><td>FindEntity</td><td>/part2/step21/bar/eidt</td></tr>
			<tr><td><i>/{topLevelMapping}/{id}/edit</i></td><td>PUT</td>   <td>update()</td>    <td>FindEntity</td><td>/part2/step21/bar/eidt</td></tr>
			<tr><td><i>/{topLevelMapping}/{id}/edit</i></td><td>DELETE</td><td>delete()</td>    <td>FindEntity</td><td>/part2/step21/bar/eidt</td></tr>
		</table>

		<table border="1">
			<tr><th>매핑 경로</th>	<th>HTTP Method</th>	<th>Controller Method 이름</th>	<th>예제 Command 객체</th>	<th>예제 매핑 경로</th></tr>
			<tr><td><i>/{topLevelMapping}/</i></td>         <td>GET</td>   <td>home()</td>      <td>FindByAgeBetween</td><td>/part2/step22/</td></tr>
			<tr><td><i>/{topLevelMapping}</i></td>          <td>GET</td>   <td>findForm()</td>  <td>FindByAgeBetween</td><td>/part2/step22</td></tr>
			<tr><td><i>/{topLevelMapping}</i></td>          <td>POST</td>  <td>find()</td>      <td>FindByAgeBetween</td><td>/part2/step22</td></tr>
			<tr><td><i>/{topLevelMapping}/{id}</i></td>     <td>GET</td>   <td>read()</td>      <td>FindEntity</td><td>/part2/step22/baz</td></tr>
			<tr><td><i>/{topLevelMapping}/new</i></td>      <td>GET</td>   <td>createForm()</td><td>FindEntity</td><td>/part2/step22/new</td></tr>
			<tr><td><i>/{topLevelMapping}/new</i></td>      <td>POST</td>  <td>create()</td>    <td>FindEntity</td><td>/part2/step22/new</td></tr>
			<tr><td><i>/{topLevelMapping}/{id}/edit</i></td><td>GET</td>   <td>updateForm()</td><td>FindEntity</td><td>/part2/step22/baz/eidt</td></tr>
			<tr><td><i>/{topLevelMapping}/{id}/edit</i></td><td>PUT</td>   <td>update()</td>    <td>FindEntity</td><td>/part2/step22/baz/eidt</td></tr>
			<tr><td><i>/{topLevelMapping}/{id}/edit</i></td><td>DELETE</td><td>delete()</td>    <td>FindEntity</td><td>/part2/step22/baz/eidt</td></tr>
		</table>
		<dl>
			<dt>Note:</dt>
			<dd>
			<p>
			FindByAgeBetween 과  FindByName 이  동일 package 내에 있어,  경로가 중복되므로. 
			@Springfield 의 topLevelMapping 속성을 을 직접 지정한다.
			</p>
			</dd>		
		</dl>
	</subsection>
	<subsection name="QueryMethod">
		<p>
			예제에서  FindByName 과 FindByAgeBetween class 이름을  기본 <i>Query Method</i> 문자열로 한다.
		</p>
	</subsection>
	
	
</section>
</body>
</document>