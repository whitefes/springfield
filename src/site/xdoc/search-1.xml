<?xml version="1.0"?>
<document xmlns="http://maven.apache.org/XDOC/2.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://maven.apache.org/XDOC/2.0 http://maven.apache.org/xsd/xdoc-2.0.xsd">
<properties>
	<title>@Springfield - Search</title>
	<author email="u2waremanager@gmail.com">www.u2ware.com</author>
</properties>

<body>
<section name="@Springfield - Search">
	<subsection name="Code">
		<source><![CDATA[
package com.u2ware.springfield.sample.part2.step1;

import lombok.Getter;
import lombok.Setter;

import com.u2ware.springfield.config.Springfield;
import com.u2ware.springfield.config.Springfield.Strategy;
import com.u2ware.springfield.repository.QueryMethod;

@Springfield(
	strategy=Strategy.JPA,
	entity=QueryEntity.class
)
@QueryMethod("findByIdAndPassword")
public class QueryBean {

	@Getter @Setter private String id;
	@Getter @Setter private String password;	
}
		]]></source>
		<source><![CDATA[
package com.u2ware.springfield.sample.part2.step1;

import javax.persistence.Entity;
import javax.persistence.Id;

import lombok.Getter;
import lombok.Setter;
import lombok.ToString;

@Entity
public @ToString class QueryEntity {

	@Id
	@Getter @Setter private String id;
	@Getter @Setter private String password;
	@Getter @Setter private String name;
	@Getter @Setter private Integer age;
}
		]]></source>
	</subsection>

	<subsection name="Beans">
		<p><b>@Springfield(strategy=Strategy.JPA, entity=QueryEntity.class)</b> 선언으로 다음 4개의 Bean 이 자동 생성, 등록 된다.</p>	
		<table border="1">
			<tr><th>bean name  </th>	<th>bean type</th>	<th>bean implement</th></tr>
			<tr><td>"<b>queryBean</b>Controller"</td><td><i><![CDATA[EntityController<QueryEntity, QueryBean>]]></i></td><td>com.u2ware.springfield.controller. EntityHandler</td></tr>
			<tr><td>"<b>queryBean</b>Validator"</td> <td><i><![CDATA[EntityValidator<QueryEntity, QueryBean>]]></i></td> <td>com.u2ware.springfield.validation. EntityValidatorImpl</td></tr>
			<tr><td>"<b>queryBean</b>Service"</td>   <td><i><![CDATA[EntityService<QueryEntity, QueryBean>]]></i></td>   <td>com.u2ware.springfield.service. EntityServiceImpl</td></tr>
			<tr><td>"<b>queryEntity</b>Repository"</td><td><i><![CDATA[EntityRepository<QueryEntity, String>]]></i></td><td>com.u2ware.springfield.repository.jpa. EntityJpaRepository</td></tr>
		</table>
		<dl>
			<dt>Note:</dt>
			<dd>@Springfield 의  entity 속성으로  <i>Entity Object</i>를 지정할 수 있다.</dd>
		</dl>
	</subsection>
	<subsection name="RequestMapping">
		<table border="1">
			<tr><th>매핑 경로</th>	<th>HTTP Method</th>	<th>Controller Method 이름</th>	<th>예제 Command 객체</th>	<th>예제 매핑 경로</th></tr>
			<tr><td><i>/{topLevelMapping}/</i></td>         <td>GET</td>   <td>home()</td>      <td>QueryBean</td><td>/part2/step1/</td></tr>
			<tr><td><i>/{topLevelMapping}</i></td>          <td>GET</td>   <td>findForm()</td>  <td>QueryBean</td><td>/part2/step1</td></tr>
			<tr><td><i>/{topLevelMapping}</i></td>          <td>POST</td>  <td>find()</td>      <td>QueryBean</td><td>/part2/step1</td></tr>
			<tr><td><i>/{topLevelMapping}/{id}</i></td>     <td>GET</td>   <td>read()</td>      <td>QueryEntity</td><td>/part2/step1/foo</td></tr>
			<tr><td><i>/{topLevelMapping}/new</i></td>      <td>GET</td>   <td>createForm()</td><td>QueryEntity</td><td>/part2/step1/new</td></tr>
			<tr><td><i>/{topLevelMapping}/new</i></td>      <td>POST</td>  <td>create()</td>    <td>QueryEntity</td><td>/part2/step1/new</td></tr>
			<tr><td><i>/{topLevelMapping}/{id}/edit</i></td><td>GET</td>   <td>updateForm()</td><td>QueryEntity</td><td>/part2/step1/foo/eidt</td></tr>
			<tr><td><i>/{topLevelMapping}/{id}/edit</i></td><td>PUT</td>   <td>update()</td>    <td>QueryEntity</td><td>/part2/step1/foo/eidt</td></tr>
			<tr><td><i>/{topLevelMapping}/{id}/edit</i></td><td>DELETE</td><td>delete()</td>    <td>QueryEntity</td><td>/part2/step1/foo/eidt</td></tr>
		</table>
	</subsection>
	<subsection name="QueryMethod">
		<p>
			예제에서  QueryBean class 의 @QueryMethod 선언값이 "findByIdAndPassword" 이므로, 이를 기본 <i>Query Method</i> 문자열로 한다.
		</p>
	</subsection>
	
</section>
</body>
</document>